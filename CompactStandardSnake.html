<!DOCTYPE html>
<html>

<head>
    <title>SnakeStandard</title>
    <!-- this is the code that will allow icon to be visible in the title bar of the brower -->
    <link rel="icon" type="image/ico" href="WebsiteLogo2.png" />
    <!-- you can also say this:  <link rel="icon" type="image/png" href="location/image.png" /> -->
</head>

<body>
    <canvas id="canvas" width="1300" height="720"></canvas>
    <script src="./jquery-2.1.0.js"></script>
    <script>
        var skin1 = false;
        var skin2 = false;
        var skin3 = false;
        var skin4 = false;
        var teams = false;
        var spacePressed = false;
        var growthRate = 1;
        var lvlspeed = 60;
        //standard speed is 50!
        var snake1live = true;
        var snake2live = true;
        var snake3live = true;
        var snake4live = true;
        var snake5live = false;
        if (teams == true) {
            snake5live = true;
        }
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        var width = canvas.width - 100;
        var height = canvas.height;
        var blockSize = 20;
        var widthInBlocks = width / blockSize;
        var heightInBlocks = height / blockSize;
        var score = 0;
        var score2 = 0;
        var score3 = 0;
        var score4 = 0;
        var score5 = 0;
        //A 2 means that it is belonging to player2.
        //A 2 means that it is belonging to player3.
        //A 4 means that it is belonging to player4, THE COMPUTER PLAYER.
        var drawBorder = function () {
            ctx.fillStyle = "Gray";
            ctx.fillRect(0, 0, width, blockSize);
            ctx.fillRect(0, height - blockSize, width, blockSize);
            ctx.fillRect(0, 0, blockSize, height);
            ctx.fillRect(width - blockSize, 0, blockSize, height);
        };

        var drawScore = function () {
            ctx.font = "20px Courtier";
            ctx.textAlign = "left";
            ctx.textBaseline = "top";
            if (score4 >= score && score4 >= score2 && score4 >= score3) {
                //Yellow in First place
                ctx.fillStyle = "Gold";
                ctx.fillText("Score: " + score4, 1200, 0);
                if (score >= score2 && score >= score3) {
                    //Blue 1st
                    ctx.fillStyle = "Blue";
                    ctx.fillText("Score: " + score, 1200, 0 + 20);
                    if (score2 >= score3) {
                        //Red 2nd
                        ctx.fillStyle = "Red";
                        ctx.fillText("Score: " + score2, 1200, 20 + 20);
                        ctx.fillStyle = "Green";
                        ctx.fillText("Score: " + score3, 1200, 40 + 20);
                    } else {
                        //Green 2nd
                        ctx.fillStyle = "Green";
                        ctx.fillText("Score: " + score3, 1200, 20 + 20);
                        ctx.fillStyle = "Red";
                        ctx.fillText("Score: " + score2, 1200, 40 + 20);
                    }
                } else if (score2 >= score3) {
                    //Red 1st
                    ctx.fillStyle = "Red";
                    ctx.fillText("Score: " + score2, 1200, 0 + 20);
                    if (score >= score3) {
                        //Blue 2nd
                        ctx.fillStyle = "Blue";
                        ctx.fillText("Score: " + score, 1200, 20 + 20);
                        ctx.fillStyle = "Green";
                        ctx.fillText("Score: " + score3, 1200, 40 + 20);
                    } else {
                        //Green 2nd
                        ctx.fillStyle = "Green";
                        ctx.fillText("Score: " + score3, 1200, 20 + 20);
                        ctx.fillStyle = "Blue";
                        ctx.fillText("Score: " + score, 1200, 40 + 20);
                    }
                } else {
                    //Green 1st
                    ctx.fillStyle = "Green";
                    ctx.fillText("Score: " + score3, 1200, 0 + 20);
                    if (score >= score2) {
                        //Blue 2nd
                        ctx.fillStyle = "Blue";
                        ctx.fillText("Score: " + score, 1200, 20 + 20);
                        ctx.fillStyle = "Red";
                        ctx.fillText("Score: " + score2, 1200, 40 + 20);
                    } else {
                        //Red 2nd
                        ctx.fillStyle = "Red";
                        ctx.fillText("Score: " + score2, 1200, 20 + 20);
                        ctx.fillStyle = "Blue";
                        ctx.fillText("Score: " + score, 1200, 40 + 20);
                    }
                }
            } else if (score4 < score && score4 < score2 && score4 < score3) {
                //Yellow in last place
                ctx.fillStyle = "Gold";
                ctx.fillText("Score: " + score4, 1200, 60);
                if (score >= score2 && score >= score3) {
                    //Blue 1st
                    ctx.fillStyle = "Blue";
                    ctx.fillText("Score: " + score, 1200, 0);
                    if (score2 >= score3) {
                        //Red 2nd
                        ctx.fillStyle = "Red";
                        ctx.fillText("Score: " + score2, 1200, 20);
                        ctx.fillStyle = "Green";
                        ctx.fillText("Score: " + score3, 1200, 40);
                    } else {
                        //Green 2nd
                        ctx.fillStyle = "Green";
                        ctx.fillText("Score: " + score3, 1200, 20);
                        ctx.fillStyle = "Red";
                        ctx.fillText("Score: " + score2, 1200, 40);
                    }
                } else if (score2 >= score3) {
                    //Red 1st
                    ctx.fillStyle = "Red";
                    ctx.fillText("Score: " + score2, 1200, 0);
                    if (score >= score3) {
                        //Blue 2nd
                        ctx.fillStyle = "Blue";
                        ctx.fillText("Score: " + score, 1200, 20);
                        ctx.fillStyle = "Green";
                        ctx.fillText("Score: " + score3, 1200, 40);
                    } else {
                        //Green 2nd
                        ctx.fillStyle = "Green";
                        ctx.fillText("Score: " + score3, 1200, 20);
                        ctx.fillStyle = "Blue";
                        ctx.fillText("Score: " + score, 1200, 40);
                    }
                } else {
                    //Green 1st
                    ctx.fillStyle = "Green";
                    ctx.fillText("Score: " + score3, 1200, 0);
                    if (score >= score2) {
                        //Blue 2nd
                        ctx.fillStyle = "Blue";
                        ctx.fillText("Score: " + score, 1200, 20);
                        ctx.fillStyle = "Red";
                        ctx.fillText("Score: " + score2, 1200, 40);
                    } else {
                        //Red 2nd
                        ctx.fillStyle = "Red";
                        ctx.fillText("Score: " + score2, 1200, 20);
                        ctx.fillStyle = "Blue";
                        ctx.fillText("Score: " + score, 1200, 40);
                    }
                }
            } else {
                //Yellow is 2nd OR 3rd!
                if (score >= score2 && score >= score3) {
                    //Blue 1st
                    ctx.fillStyle = "Blue";
                    ctx.fillText("Score: " + score, 1200, 0);
                    if (score4 >= score2 && score4 >= score3) {
                        //Yellow 2nd
                        if (score2 >= score3) {
                            //Red 3rd
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 20);
                            ctx.fillStyle = "Red";
                            ctx.fillText("Score: " + score2, 1200, 40);
                            ctx.fillStyle = "Green";
                            ctx.fillText("Score: " + score3, 1200, 60);
                        } else {
                            //Green 3rd
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 20);
                            ctx.fillStyle = "Green";
                            ctx.fillText("Score: " + score3, 1200, 40);
                            ctx.fillStyle = "Red";
                            ctx.fillText("Score: " + score2, 1200, 60);
                        }
                    } else {
                        //Yellow 3rd
                        if (score2 >= score3) {
                            //Red 2nd
                            ctx.fillStyle = "Red";
                            ctx.fillText("Score: " + score2, 1200, 20);
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 40);
                            ctx.fillStyle = "Green";
                            ctx.fillText("Score: " + score3, 1200, 60);
                        } else {
                            //Green 2nd
                            ctx.fillStyle = "Green";
                            ctx.fillText("Score: " + score3, 1200, 20);
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 40);
                            ctx.fillStyle = "Red";
                            ctx.fillText("Score: " + score2, 1200, 60);
                        }
                    }
                } else if (score2 >= score3) {
                    //Red 1st
                    ctx.fillStyle = "Red";
                    ctx.fillText("Score: " + score2, 1200, 0);
                    if (score4 >= score && score4 >= score3) {
                        //Yellow 2nd
                        if (score >= score3) {
                            //Blue 3rd
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 20);
                            ctx.fillStyle = "Blue";
                            ctx.fillText("Score: " + score, 1200, 40);
                            ctx.fillStyle = "Green";
                            ctx.fillText("Score: " + score3, 1200, 60);
                        } else {
                            //Green 3rd
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 20);
                            ctx.fillStyle = "Green";
                            ctx.fillText("Score: " + score3, 1200, 40);
                            ctx.fillStyle = "Blue";
                            ctx.fillText("Score: " + score, 1200, 60);
                        }
                    } else {
                        //Yellow 3rd
                        if (score >= score3) {
                            //Blue 2nd
                            ctx.fillStyle = "Blue";
                            ctx.fillText("Score: " + score, 1200, 20);
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 40);
                            ctx.fillStyle = "Green";
                            ctx.fillText("Score: " + score3, 1200, 60);
                        } else {
                            //Green 2nd
                            ctx.fillStyle = "Green";
                            ctx.fillText("Score: " + score3, 1200, 20);
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 40);
                            ctx.fillStyle = "Blue";
                            ctx.fillText("Score: " + score, 1200, 60);
                        }
                    }
                } else {
                    //Green 1st
                    ctx.fillStyle = "Green";
                    ctx.fillText("Score: " + score3, 1200, 0);
                    if (score4 >= score && score4 >= score2) {
                        //Yellow 2nd
                        if (score >= score2) {
                            //Blue 3rd
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 20);
                            ctx.fillStyle = "Blue";
                            ctx.fillText("Score: " + score, 1200, 40);
                            ctx.fillStyle = "Red";
                            ctx.fillText("Score: " + score2, 1200, 60);
                        } else {
                            //Red 3rd
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 20);
                            ctx.fillStyle = "Red";
                            ctx.fillText("Score: " + score2, 1200, 40);
                            ctx.fillStyle = "Blue";
                            ctx.fillText("Score: " + score, 1200, 60);
                        }
                    } else {
                        //Yellow 3rd
                        if (score >= score2) {
                            //Blue 2nd
                            ctx.fillStyle = "Blue";
                            ctx.fillText("Score: " + score, 1200, 20);
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 40);
                            ctx.fillStyle = "Red";
                            ctx.fillText("Score: " + score2, 1200, 60);
                        } else {
                            //Red 2nd
                            ctx.fillStyle = "Red";
                            ctx.fillText("Score: " + score2, 1200, 20);
                            ctx.fillStyle = "Gold";
                            ctx.fillText("Score: " + score4, 1200, 40);
                            ctx.fillStyle = "Blue";
                            ctx.fillText("Score: " + score, 1200, 60);
                        }
                    }
                }
            }
        };
        var gameOver = function () {
            if (snake1live == true) {
                snake1live = false;
                // clearInterval(intervalId);
                // ctx.font = "60px Courtier";
                // ctx.fillStyle = "Black";
                // ctx.textAlign = "center";
                // ctx.textBaseline = "middle";
                // ctx.fillText("Game Over", width / 2, height / 2);  
                CorpseSeg1 = SnakeSeg;
                SnakeSeg = [new Block(999, 999)];
            }
        };
        var gameOver2 = function () {
            if (snake2live == true) {
                snake2live = false;
                // clearInterval(intervalId);
                // ctx.font = "60px Courtier";
                // ctx.fillStyle = "Black";
                // ctx.textAlign = "center";
                // ctx.textBaseline = "middle";
                // ctx.fillText("Game Over", width / 2, height / 2); 
                CorpseSeg2 = SnakeSeg2;
                SnakeSeg2 = [new Block(999, 999)];
            }
        };
        var gameOver3 = function () {
            if (snake3live == true) {
                snake3live = false;
                // clearInterval(intervalId);
                // ctx.font = "60px Courtier";
                // ctx.fillStyle = "Black";
                // ctx.textAlign = "center";
                // ctx.textBaseline = "middle";
                // ctx.fillText("Game Over", width / 2, height / 2); 
                CorpseSeg3 = SnakeSeg3;
                SnakeSeg3 = [new Block(999, 999)];
            }
        };
        var gameOver4 = function () {
            if (snake4live == true) {
                snake4live = false;
                // clearInterval(intervalId);
                // ctx.font = "60px Courtier";
                // ctx.fillStyle = "Black";
                // ctx.textAlign = "center";
                // ctx.textBaseline = "middle";
                // ctx.fillText("Game Over", width / 2, height / 2); 
                CorpseSeg4 = SnakeSeg4;
                SnakeSeg4 = [new Block(999, 999)];
            }
        };
        var FullGameOver = function () {
            //clearInterval(intervalId);
            ctx.font = "60px Courtier";
            ctx.fillStyle = "Black";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText("Game Over", width / 2, height / 2);
            ctx.font = "30px Courtier";
            if (score4 >= score && score4 >= score2 && score4 >= score3) {
                ctx.fillText("Yellow Wins", width / 2, height / 2 + 35);
            } else {
                if (score > score2 && score > score3) {
                    ctx.fillText("Blue Wins", width / 2, height / 2 + 35);
                } else if (score2 > score && score2 > score3) { 
                    ctx.fillText("Red Wins", width / 2, height / 2 + 35);
                } else if (score3 > score && score3 > score2) {
                    ctx.fillText("Green Wins", width / 2, height / 2 + 35);
                } else {
                    ctx.fillText("Draw", width / 2, height / 2 + 35);
                }
            }
            //ctx.fillText("Press space to begin a new game", width / 2, height / 2 + 120);
            ctx.fillText("Game Developer: Arthur Z", canvas.width - 320, canvas.height - 30);
        };
        var circle = function (x, y, radius, fillCircle) {
            ctx.beginPath();
            ctx.arc(x, y, radius, 0, Math.PI * 2, false);
            if (fillCircle) {
                ctx.fill();
            } else {
                ctx.stroke();
            }
        };
        var Block = function (col, row) {
            this.col = col;
            this.row = row;
        };
        Block.prototype.drawSquare = function (color) {
            var x = this.col * blockSize;
            var y = this.row * blockSize;
            ctx.fillStyle = color;
            ctx.fillRect(x, y, blockSize, blockSize);
            if (color == "Blue") {
                if (skin1 == true) {
                    ctx.fillStyle = "White";
                    ctx.fillRect(x + 10, y + 0, 10, 20);
                    ctx.fillRect(x + 0, y + 10, 20, 10);
                    ctx.fillStyle = "Red";
                    ctx.fillRect(x + 10, y + 0, 10, 2);
                    ctx.fillRect(x + 10, y + 4, 10, 2);
                    ctx.fillRect(x + 10, y + 8, 10, 2);
                    ctx.fillRect(x + 0, y + 12, 20, 2);
                    ctx.fillRect(x + 0, y + 16, 20, 2);
                    //ctx.fillRect(x + 0, y + 20, 20, 2);
                }
            } else if (color == "Red") {
                if (skin2 == true) {
                    ctx.fillStyle = "Black";
                    ctx.fillRect(x + 0, y + 4, 20, 2);
                    ctx.fillRect(x + 5, y + 0, 2, 4);
                    ctx.fillRect(x + 0, y + 10, 20, 2);
                    ctx.fillRect(x + 9, y + 12, 2, 4);
                    ctx.fillRect(x + 0, y + 16, 20, 2);
                    ctx.fillRect(x + 18, y + 6, 2, 4);
                    ctx.fillRect(x + 5, y + 16, 2, 4);
                }
            } else if (color == "MediumSeaGreen") {
                if (skin3 == true) {
                    ctx.fillStyle = "Red";
                    ctx.fillRect(x + 2, y + 2, blockSize - 4, blockSize - 4);
                    ctx.fillStyle = "Black";
                    ctx.fillRect(x + 1, y + 3, 2, 2);
                    ctx.fillRect(x + 6, y + 10, 2, 2);
                    ctx.fillRect(x + 16, y + 4, 2, 2);
                    ctx.fillRect(x + 10, y + 2, 2, 2);
                    ctx.fillRect(x + 16, y + 14, 2, 2);
                    ctx.fillRect(x + 12, y + 6, 2, 2);
                    ctx.fillRect(x + 10, y + 14, 2, 2);
                    ctx.fillRect(x + 2, y + 8, 2, 2);
                }
            } else if (color == "Gold") {
                if (skin4 == true) {
                    //Ghost Skin
                    ctx.fillStyle = "Ivory";
                    ctx.fillRect(x, y, blockSize, blockSize);
                }
            } else if (color == "Navy") {
                if (skin1 == true) {
                    ctx.fillStyle = "MintCream";
                    ctx.fillRect(x + 10, y + 0, 10, 20);
                    ctx.fillRect(x + 0, y + 10, 20, 10);
                    ctx.fillStyle = "Maroon";
                    ctx.fillRect(x + 10, y + 0, 10, 2);
                    ctx.fillRect(x + 10, y + 4, 10, 2);
                    ctx.fillRect(x + 10, y + 8, 10, 2);
                    ctx.fillRect(x + 0, y + 12, 20, 2);
                    ctx.fillRect(x + 0, y + 16, 20, 2);
                    //ctx.fillRect(x + 0, y + 20, 20, 2);
                }
            } else if (color == "Maroon") {
                if (skin2 == true) {
                    ctx.fillStyle = "Black";
                    ctx.fillRect(x + 0, y + 4, 20, 2);
                    ctx.fillRect(x + 5, y + 0, 2, 4);
                    ctx.fillRect(x + 0, y + 10, 20, 2);
                    ctx.fillRect(x + 9, y + 12, 2, 4);
                    ctx.fillRect(x + 0, y + 16, 20, 2);
                    ctx.fillRect(x + 18, y + 6, 2, 4);
                    ctx.fillRect(x + 5, y + 16, 2, 4);
                }
            } else if (color == "DarkGreen") {
                if (skin3 == true) {
                    ctx.fillStyle = "Maroon";
                    ctx.fillRect(x + 2, y + 2, blockSize - 4, blockSize - 4);
                    ctx.fillStyle = "Black";
                    ctx.fillRect(x + 1, y + 3, 2, 2);
                    ctx.fillRect(x + 6, y + 10, 2, 2);
                    ctx.fillRect(x + 16, y + 4, 2, 2);
                    ctx.fillRect(x + 10, y + 2, 2, 2);
                    ctx.fillRect(x + 16, y + 14, 2, 2);
                    ctx.fillRect(x + 12, y + 6, 2, 2);
                    ctx.fillRect(x + 10, y + 14, 2, 2);
                    ctx.fillRect(x + 2, y + 8, 2, 2);
                }
            } else if (color == "DarkGoldenRod") {
                if (skin4 == true) {
                    //Ghost Skin
                    ctx.fillStyle = "LightSlateGrey";
                    ctx.fillRect(x, y, blockSize, blockSize);
                }
            }
        };
        Block.prototype.drawCircle = function (color) {
            var centerX = this.col * blockSize + blockSize / 2;
            var centerY = this.row * blockSize + blockSize / 2;
            ctx.fillStyle = color;
            circle(centerX, centerY, blockSize / 2, true);
        };
        Block.prototype.equal = function (otherBlock) {
            return this.col === otherBlock.col && this.row === otherBlock.row;
        };

        let SnakeSeg;
        let SnakeSeg2;
        let SnakeSeg3;
        let SnakeSeg4;
        var Snake = function () {
            this.segments = [
                new Block(3, 5),
                new Block(2, 5),
                new Block(1, 5)
            ];
            SnakeSeg = this.segments;
            this.direction = "right";
            this.nextDirection = "right";
        };
        //All code above works, I checked
        var Snake2 = function () {
            this.segments = [
                new Block(3, 11),
                new Block(2, 11),
                new Block(1, 11)
            ];
            SnakeSeg2 = this.segments;
            this.direction = "right";
            this.nextDirection = "right";
        };
        var Snake3 = function () {
            this.segments = [
                new Block(3, 17),
                new Block(2, 17),
                new Block(1, 17)
            ];
            SnakeSeg3 = this.segments;
            this.direction = "right";
            this.nextDirection = "right";
        };
        var Snake4 = function () {
            this.segments = [
                new Block(3, 23),
                new Block(2, 23),
                new Block(1, 23)
            ];
            SnakeSeg4 = this.segments;
            this.direction = "right";
            this.nextDirection = "right";
        };

        var CorpseSeg1;
        var CorpseSeg2;
        var CorpseSeg3;
        var CorpseSeg4;
        Snake.prototype.draw = function () {
            if (snake1live == true) {
                for (var i = 0; i < this.segments.length; i++) {
                    this.segments[i].drawSquare("Blue");
                }
            } else {
                for (var i = 0; i < CorpseSeg1.length; i++) {
                    CorpseSeg1[i].drawSquare("Navy");
                }
            }
        };
        Snake2.prototype.draw = function () {
            if (snake2live == true) {
                for (var i = 0; i < this.segments.length; i++) {
                    this.segments[i].drawSquare("Red");
                }
            } else {
                for (var i = 0; i < CorpseSeg2.length; i++) {
                    CorpseSeg2[i].drawSquare("Maroon");
                }
            }
        };
        Snake3.prototype.draw = function () {
            if (snake3live == true) {
                for (var i = 0; i < this.segments.length; i++) {
                    this.segments[i].drawSquare("MediumSeaGreen");
                }
            } else {
                for (var i = 0; i < CorpseSeg3.length; i++) {
                    CorpseSeg3[i].drawSquare("DarkGreen");
                }
            }
        };
        Snake4.prototype.draw = function () {
            if (snake4live == true) {
                for (var i = 0; i < this.segments.length; i++) {
                    this.segments[i].drawSquare("Gold");
                }
            } else {
                for (var i = 0; i < CorpseSeg4.length; i++) {
                    CorpseSeg4[i].drawSquare("DarkGoldenRod");
                }
            }
        };
        var won = 0;
        var won2 = 0;
        var won3 = 0;
        var won4 = 0;
        Snake.prototype.move = function () {
            var head = this.segments[0];
            var newHead;

            this.direction = this.nextDirection;

            if (this.direction === "right") {
                newHead = new Block(head.col + 1, head.row);
            } else if (this.direction === "down") {
                newHead = new Block(head.col, head.row + 1);
            } else if (this.direction === "left") {
                newHead = new Block(head.col - 1, head.row);
            } else if (this.direction === "up") {
                newHead = new Block(head.col, head.row - 1);
            }
            if (this.checkCollision(newHead)) {
                gameOver();
                return;
            }
            this.segments.unshift(newHead);
            if (newHead.equal(apple.position)) {
                score++;
                apple.move();
                won = growthRate;
                width = width - 20;
                height = height - 20;
                widthInBlocks = width / blockSize;
                heightInBlocks = height / blockSize;
                //console.log(widthInBlocks + " " + heightInBlocks);
            } else {
                if (won === 0) {
                    this.segments.pop();
                } else {
                    won = won - 1;
                    if (won < 1) {
                        won = 0;
                    }
                }
            }
            SnakeSeg = this.segments;

        };
        Snake2.prototype.move = function () {
            var head2 = this.segments[0];
            var newHead2;

            this.direction = this.nextDirection;
            //console.log(this.direction);

            if (this.direction === "right") {
                newHead2 = new Block(head2.col + 1, head2.row);
            } else if (this.direction === "down") {
                newHead2 = new Block(head2.col, head2.row + 1);
            } else if (this.direction === "left") {
                newHead2 = new Block(head2.col - 1, head2.row);
            } else if (this.direction === "up") {
                newHead2 = new Block(head2.col, head2.row - 1);
            }
            //console.log(newHead2)
            if (this.checkCollision(newHead2)) {
                gameOver2();
                return;
            }
            this.segments.unshift(newHead2);

            if (newHead2.equal(apple.position)) {
                score2++;
                apple.move();
                won2 = growthRate;
                width = width - 20;
                height = height - 20;
                widthInBlocks = width / blockSize;
                heightInBlocks = height / blockSize;
                //console.log(widthInBlocks + " " + heightInBlocks);
            } else {
                if (won2 === 0) {
                    this.segments.pop();
                } else {
                    won2 = won2 - 1;
                    if (won2 < 1) {
                        won2 = 0;
                    }
                }
            }
            SnakeSeg2 = this.segments;

        };

        Snake3.prototype.move = function () {
            var head3 = this.segments[0];
            var newHead3;

            this.direction = this.nextDirection;
            //console.log(this.direction);

            if (this.direction === "right") {
                newHead3 = new Block(head3.col + 1, head3.row);
            } else if (this.direction === "down") {
                newHead3 = new Block(head3.col, head3.row + 1);
            } else if (this.direction === "left") {
                newHead3 = new Block(head3.col - 1, head3.row);
            } else if (this.direction === "up") {
                newHead3 = new Block(head3.col, head3.row - 1);
            }
            //console.log(newHead3)
            if (this.checkCollision(newHead3)) {
                gameOver3();
                return;
            }
            this.segments.unshift(newHead3);

            if (newHead3.equal(apple.position)) {
                score3++;
                apple.move();
                won3 = growthRate;
                width = width - 20;
                height = height - 20;
                widthInBlocks = width / blockSize;
                heightInBlocks = height / blockSize;
                //console.log(widthInBlocks + " " + heightInBlocks);
            } else {
                if (won3 === 0) {
                    this.segments.pop();
                } else {
                    won3 = won3 - 1;
                    if (won3 < 1) {
                        won3 = 0;
                    }
                }
            }
            SnakeSeg3 = this.segments;

        };
        Snake4.prototype.move = function () {
            var head4 = this.segments[0];
            var newHead4;

            this.direction = this.nextDirection;
            //console.log(this.direction);

            if (this.direction === "right") {
                newHead4 = new Block(head4.col + 1, head4.row);
            } else if (this.direction === "down") {
                newHead4 = new Block(head4.col, head4.row + 1);
            } else if (this.direction === "left") {
                newHead4 = new Block(head4.col - 1, head4.row);
            } else if (this.direction === "up") {
                newHead4 = new Block(head4.col, head4.row - 1);
            }
            //console.log(newHead4)
            if (this.checkCollision(newHead4)) {
                gameOver4();
                return;
            }
            this.segments.unshift(newHead4);

            if (newHead4.equal(apple.position)) {
                score4++;
                apple.move();
                won4 = growthRate;
                width = width - 20;
                height = height - 20;
                widthInBlocks = width / blockSize;
                heightInBlocks = height / blockSize;
                //console.log(widthInBlocks + " " + heightInBlocks);
            } else {
                if (won4 === 0) {
                    this.segments.pop();
                } else {
                    won4 = won4 - 1;
                    if (won4 < 1) {
                        won4 = 0;
                    }
                }
            }
            SnakeSeg4 = this.segments;

        };
        Snake.prototype.checkCollision = function (head) {
            var leftCollision = (head.col === 0);
            var topCollision = (head.row === 0);
            var rightCollision = (head.col >= widthInBlocks);
            var bottomCollision = (head.row >= heightInBlocks);

            var wallCollision = leftCollision || topCollision || rightCollision || bottomCollision;
            var selfCollision = false;
            for (var i = 0; i < this.segments.length; i++) {
                if (head.equal(this.segments[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg2.length; i++) {
                if (head.equal(SnakeSeg2[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg3.length; i++) {
                if (head.equal(SnakeSeg3[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg4.length; i++) {
                if (head.equal(SnakeSeg4[i])) {
                    selfCollision = true;
                }
            }
            if (wallCollision || selfCollision) {
                //console.log("Collision!");
            }
            return wallCollision || selfCollision;
        };
        Snake2.prototype.checkCollision = function (head) {
            var leftCollision = (head.col === 0);
            var topCollision = (head.row === 0);
            var rightCollision = (head.col >= widthInBlocks);
            var bottomCollision = (head.row >= heightInBlocks);

            var wallCollision = leftCollision || topCollision || rightCollision || bottomCollision;
            var selfCollision = false;
            for (var i = 0; i < this.segments.length; i++) {
                if (head.equal(this.segments[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg.length; i++) {
                if (head.equal(SnakeSeg[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg3.length; i++) {
                if (head.equal(SnakeSeg3[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg4.length; i++) {
                if (head.equal(SnakeSeg4[i])) {
                    selfCollision = true;
                }
            }
            if (wallCollision || selfCollision) {
                //console.log("Collision!");
            }
            return wallCollision || selfCollision;
        };
        Snake3.prototype.checkCollision = function (head) {
            var leftCollision = (head.col === 0);
            var topCollision = (head.row === 0);
            var rightCollision = (head.col >= widthInBlocks);
            var bottomCollision = (head.row >= heightInBlocks);

            var wallCollision = leftCollision || topCollision || rightCollision || bottomCollision;
            var selfCollision = false;
            for (var i = 0; i < this.segments.length; i++) {
                if (head.equal(this.segments[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg.length; i++) {
                if (head.equal(SnakeSeg[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg2.length; i++) {
                if (head.equal(SnakeSeg2[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg4.length; i++) {
                if (head.equal(SnakeSeg4[i])) {
                    selfCollision = true;
                }
            }
            if (wallCollision || selfCollision) {
                //console.log("Collision!");
            }
            return wallCollision || selfCollision;
        };
        Snake4.prototype.checkCollision = function (head4) {
            var leftCollision = (head4.col === 0);
            var topCollision = (head4.row === 0);
            var rightCollision = (head4.col >= widthInBlocks);
            var bottomCollision = (head4.row >= heightInBlocks);

            var wallCollision = leftCollision || topCollision || rightCollision || bottomCollision;
            var selfCollision = false;
            for (var i = 0; i < this.segments.length; i++) {
                if (head4.equal(this.segments[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg.length; i++) {
                if (head4.equal(SnakeSeg[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg2.length; i++) {
                if (head4.equal(SnakeSeg2[i])) {
                    selfCollision = true;
                }
            }
            for (var i = 0; i < SnakeSeg3.length; i++) {
                if (head4.equal(SnakeSeg3[i])) {
                    selfCollision = true;
                }
            }
            if (wallCollision || selfCollision) {
                //console.log("Collision!");
            }
            snake4.setDirection(head4);
            return wallCollision || selfCollision;
        };
        var directions = {
            37: "left",
            38: "up",
            39: "right",
            40: "down",
            87: "up2",
            65: "left2",
            83: "down2",
            68: "right2",
            73: "up3",
            76: "right3",
            75: "down3",
            74: "left3",
            32: "space",
        };

        $("body").keydown(function (event) {
            var newDirection = directions[event.keyCode];
            if (newDirection !== undefined) {
                if (newDirection == "left" || newDirection == "up" || newDirection == "right" || newDirection == "down") {
                    snake.setDirection(newDirection);
                } else if (newDirection == "left2" || newDirection == "up2" || newDirection == "right2" || newDirection == "down2") {
                    if (newDirection == "left2") {
                        newDirection = "left";
                    }
                    if (newDirection == "right2") {
                        newDirection = "right";
                    }
                    if (newDirection == "up2") {
                        newDirection = "up";
                    }
                    if (newDirection == "down2") {
                        newDirection = "down";
                    }
                    snake2.setDirection(newDirection);
                } else if (newDirection !== "space") {
                    if (newDirection == "left3") {
                        newDirection = "left";
                    }
                    if (newDirection == "right3") {
                        newDirection = "right";
                    }
                    if (newDirection == "up3") {
                        newDirection = "up";
                    }
                    if (newDirection == "down3") {
                        newDirection = "down";
                    }
                    snake3.setDirection(newDirection);
                } else {
                    spacePressed = true;
                }
            }
        });

        Snake.prototype.setDirection = function (newDirection) {
            if (this.direction === "up" && newDirection === "down") {
                return;
            } else if (this.direction === "right" && newDirection === "left") {
                return;
            } else if (this.direction === "down" && newDirection === "up") {
                return;
            } else if (this.direction === "left" && newDirection === "right") {
                return;
            }
            this.nextDirection = newDirection;
        };
        Snake2.prototype.setDirection = function (newDirection) {
            if (this.direction === "up" && newDirection === "down") {
                return;
            } else if (this.direction === "right" && newDirection === "left") {
                return;
            } else if (this.direction === "down" && newDirection === "up") {
                return;
            } else if (this.direction === "left" && newDirection === "right") {
                return;
            }
            this.nextDirection = newDirection;
        };
        Snake3.prototype.setDirection = function (newDirection) {
            if (this.direction === "up" && newDirection === "down") {
                return;
            } else if (this.direction === "right" && newDirection === "left") {
                return;
            } else if (this.direction === "down" && newDirection === "up") {
                return;
            } else if (this.direction === "left" && newDirection === "right") {
                return;
            }
            this.nextDirection = newDirection;
        };
        Snake4.prototype.setDirection = function (head) {
            /* 
            var leftCollision = (head.col === 0);
            var topCollision = (head.row === 0);
            var rightCollision = (head.col >= widthInBlocks);
            var bottomCollision = (head.row >= heightInBlocks); 
            col is x-axis
            row is y-axis
            */
            //console.log("Apple:" + Snapple.col + Snapple.row);
            let padding = 1;
            let paddingChange = 3;
            let paddingPlayer = 1;
            let rand = 0;
            let Chance = 20;
            //The trial variable will help cut down errors
            let trial;
            trial = SnakeSeg.length;
            if (SnakeSeg2.length > trial) {
                trial = SnakeSeg2.length;
            }
            if (SnakeSeg3.length > trial) {
                trial = SnakeSeg3.length;
            }
            if (SnakeSeg4.length > trial) {
                trial = SnakeSeg4.length;
            }
            //Begin in your direction...
            this.nextDirection = this.direction;
            if (head.col <= padding) {
                //Left edge
                if (head.row <= padding) {
                    //Top-left corner
                    if (this.direction === "left") {
                        this.nextDirection = "down";
                    } else if (this.direction === "up") {
                        this.nextDirection = "right";
                    }
                } else {
                    if (head.row >= heightInBlocks - paddingChange) {
                        //Bottom-left corner
                        if (this.direction === "down") {
                            this.nextDirection = "right";
                        } else if (this.direction === "left") {
                            this.nextDirection = "up";
                        }
                    } else {
                        //Left Edge
                        if (this.direction === "left") {
                            rand = Math.floor(Math.random() * Math.floor(2));
                            if (rand == 1) {
                                this.nextDirection = "up";
                                for (var i = 0; i < trial; i++) {
                                    if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row + paddingPlayer ||
                                        SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row + paddingPlayer ||
                                        SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row + paddingPlayer ||
                                        SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row + paddingPlayer) {
                                        this.nextDirection = "down";
                                        //FORCED
                                    }
                                }
                            } else {
                                this.nextDirection = "down";
                                for (var i = 0; i < trial; i++) {
                                    if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row - paddingPlayer ||
                                        SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row - paddingPlayer ||
                                        SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row - paddingPlayer ||
                                        SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row - paddingPlayer) {
                                        this.nextDirection = "up";
                                        //FORCED
                                    }
                                }
                            }
                        } else {
                            rand = Math.floor(Math.random() * Math.floor(Chance));
                            if (rand == 1 || head.row == Snapple.row) {
                                this.nextDirection = "right";
                                for (var i = 0; i < trial; i++) {
                                    if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col - paddingPlayer && head.row == SnakeSeg[i].row ||
                                        SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col - paddingPlayer && head.row == SnakeSeg2[i].row ||
                                        SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col - paddingPlayer && head.row == SnakeSeg3[i].row ||
                                        SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col - paddingPlayer && head.row == SnakeSeg4[i].row) {
                                        //stay in-line
                                        this.nextDirection = this.direction;
                                    }
                                }
                            } else {
                                if (this.direction == "up") {
                                    for (var i = 0; i < trial; i++) {
                                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row + paddingPlayer ||
                                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row + paddingPlayer ||
                                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row + paddingPlayer ||
                                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row + paddingPlayer) {
                                            this.nextDirection = "right";
                                            //FORCED
                                        }
                                    }
                                } else if (this.direction == "down") {
                                    for (var i = 0; i < trial; i++) {
                                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row - paddingPlayer ||
                                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row - paddingPlayer ||
                                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row - paddingPlayer ||
                                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row - paddingPlayer) {
                                            this.nextDirection = "right";
                                            //FORCED
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            } else if (head.row <= padding) {
                //Top Edge
                //We know it can't be in the Top-Left Corner (due to head.col not equalling one).
                if (head.col >= widthInBlocks - paddingChange) {
                    //Top-right corner
                    if (this.direction === "right") {
                        this.nextDirection = "down";
                    } else if (this.direction === "up") {
                        this.nextDirection = "left";
                    }
                } else {
                    //Top Edge
                    if (this.direction == "up") {
                        rand = Math.floor(Math.random() * Math.floor(2));
                        if (rand == 1) {
                            this.nextDirection = "right";
                            for (var i = 0; i < trial; i++) {
                                if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col - paddingPlayer && head.row == SnakeSeg[i].row ||
                                    SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col - paddingPlayer && head.row == SnakeSeg2[i].row ||
                                    SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col - paddingPlayer && head.row == SnakeSeg3[i].row ||
                                    SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col - paddingPlayer && head.row == SnakeSeg4[i].row) {
                                    //Going to colide if going right
                                    this.nextDirection = "left";
                                }
                            }
                        } else {
                            this.nextDirection = "left";
                            for (var i = 0; i < trial; i++) {
                                if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col + paddingPlayer && head.row == SnakeSeg[i].row ||
                                    SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col + paddingPlayer && head.row == SnakeSeg2[i].row ||
                                    SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col + paddingPlayer && head.row == SnakeSeg3[i].row ||
                                    SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col + paddingPlayer && head.row == SnakeSeg4[i].row) {
                                    this.nextDirection = "right";
                                }
                            }
                        }
                    } else {
                        rand = Math.floor(Math.random() * Math.floor(Chance));
                        if (rand == 1 || head.col == Snapple.col) {
                            this.nextDirection = "down";
                            //Possibly stay in-line
                            for (var i = 0; i < trial; i++) {
                                if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row - paddingPlayer ||
                                    SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row - paddingPlayer ||
                                    SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row - paddingPlayer ||
                                    SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row - paddingPlayer) {
                                    //stay in-line
                                    this.nextDirection = this.direction;
                                }
                            }
                        } else {
                            //Possible force-move, or staying straight
                            if (this.direction == "right") {
                                for (var i = 0; i < trial; i++) {
                                    if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col - paddingPlayer && head.row == SnakeSeg[i].row ||
                                        SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col - paddingPlayer && head.row == SnakeSeg2[i].row ||
                                        SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col - paddingPlayer && head.row == SnakeSeg3[i].row ||
                                        SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col - paddingPlayer && head.row == SnakeSeg4[i].row) {
                                        //Going to colide if going right
                                        this.nextDirection = "down";
                                    }
                                }
                            } else if (this.direction == "left") {
                                for (var i = 0; i < trial; i++) {
                                    if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col + paddingPlayer && head.row == SnakeSeg[i].row ||
                                        SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col + paddingPlayer && head.row == SnakeSeg2[i].row ||
                                        SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col + paddingPlayer && head.row == SnakeSeg3[i].row ||
                                        SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col + paddingPlayer && head.row == SnakeSeg4[i].row) {
                                        this.nextDirection = "down";
                                    }
                                }
                            }
                        }
                    }
                }
            } else if (head.col >= widthInBlocks - paddingChange) {
                //Right Edge
                //We know it can't be in the top-right corner(due to head.row not equalling one).
                if (head.row >= heightInBlocks - paddingChange) {
                    //Bottom-right corner
                    if (this.direction === "down") {
                        this.nextDirection = "left";
                    } else if (this.direction === "right") {
                        this.nextDirection = "up";
                    }
                } else {
                    //Right Edge
                    if (this.direction == "right") {
                        rand = Math.floor(Math.random() * Math.floor(2));
                        if (rand == 1) {
                            this.nextDirection = "up";
                            for (var i = 0; i < trial; i++) {
                                if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row + paddingPlayer ||
                                    SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row + paddingPlayer ||
                                    SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row + paddingPlayer ||
                                    SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row + paddingPlayer) {
                                    this.nextDirection = "down";
                                    //FORCED
                                }
                            }
                        } else {
                            this.nextDirection = "down";
                            for (var i = 0; i < trial; i++) {
                                if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row - paddingPlayer ||
                                    SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row - paddingPlayer ||
                                    SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row - paddingPlayer ||
                                    SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row - paddingPlayer) {
                                    this.nextDirection = "up";
                                    //FORCED
                                }
                            }
                        }
                    } else {
                        rand = Math.floor(Math.random() * Math.floor(Chance));
                        if (rand == 1 || head.row == Snapple.row) {
                            this.nextDirection = "left";
                            for (var i = 0; i < trial; i++) {
                                if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col + paddingPlayer && head.row == SnakeSeg[i].row ||
                                    SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col + paddingPlayer && head.row == SnakeSeg2[i].row ||
                                    SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col + paddingPlayer && head.row == SnakeSeg3[i].row ||
                                    SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col + paddingPlayer && head.row == SnakeSeg4[i].row) {
                                    //stay in-line
                                    this.nextDirection = this.direction;
                                }
                            }
                        } else {
                            if (this.direction == "up") {
                                for (var i = 0; i < trial; i++) {
                                    if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row + paddingPlayer ||
                                        SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row + paddingPlayer ||
                                        SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row + paddingPlayer ||
                                        SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row + paddingPlayer) {
                                        this.nextDirection = "left";
                                        //FORCED
                                    }
                                }
                            } else if (this.direction == "down") {
                                for (var i = 0; i < trial; i++) {
                                    if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row - paddingPlayer ||
                                        SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row - paddingPlayer ||
                                        SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row - paddingPlayer ||
                                        SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row - paddingPlayer) {
                                        this.nextDirection = "left";
                                        //FORCED
                                    }
                                }
                            }
                        }
                    }
                }
            } else if (head.row >= heightInBlocks - paddingChange) {
                //Bottom Edge
                //Not on a corner, all corners have been checked!
                if (this.direction == "down") {
                    rand = Math.floor(Math.random() * Math.floor(2));
                    if (rand == 1) {
                        this.nextDirection = "right";
                        for (var i = 0; i < trial; i++) {
                            if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col - paddingPlayer && head.row == SnakeSeg[i].row ||
                                SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col - paddingPlayer && head.row == SnakeSeg2[i].row ||
                                SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col - paddingPlayer && head.row == SnakeSeg3[i].row ||
                                SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col - paddingPlayer && head.row == SnakeSeg4[i].row) {
                                //Going to colide if going right
                                this.nextDirection = "left";
                            }
                        }
                    } else {
                        this.nextDirection = "left";
                        for (var i = 0; i < trial; i++) {
                            if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col + paddingPlayer && head.row == SnakeSeg[i].row ||
                                SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col + paddingPlayer && head.row == SnakeSeg2[i].row ||
                                SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col + paddingPlayer && head.row == SnakeSeg3[i].row ||
                                SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col + paddingPlayer && head.row == SnakeSeg4[i].row) {
                                this.nextDirection = "right";
                            }
                        }
                    }
                } else {
                    rand = Math.floor(Math.random() * Math.floor(Chance));
                    if (rand == 1 || head.col == Snapple.col) {
                        this.nextDirection = "up";
                        //Possibly stay in-line
                        for (var i = 0; i < trial; i++) {
                            if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row + paddingPlayer ||
                                SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row + paddingPlayer ||
                                SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row + paddingPlayer ||
                                SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row + paddingPlayer) {
                                //stay in-line
                                this.nextDirection = this.direction;
                            }
                        }
                    } else {
                        //Possible force-move, or staying straight
                        if (this.direction == "right") {
                            for (var i = 0; i < trial; i++) {
                                if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col - paddingPlayer && head.row == SnakeSeg[i].row ||
                                    SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col - paddingPlayer && head.row == SnakeSeg2[i].row ||
                                    SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col - paddingPlayer && head.row == SnakeSeg3[i].row ||
                                    SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col - paddingPlayer && head.row == SnakeSeg4[i].row) {
                                    //FORCED
                                    this.nextDirection = "up";
                                }
                            }
                        } else if (this.direction == "left") {
                            for (var i = 0; i < trial; i++) {
                                if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col + paddingPlayer && head.row == SnakeSeg[i].row ||
                                    SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col + paddingPlayer && head.row == SnakeSeg2[i].row ||
                                    SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col + paddingPlayer && head.row == SnakeSeg3[i].row ||
                                    SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col + paddingPlayer && head.row == SnakeSeg4[i].row) {
                                    //FORCED
                                    this.nextDirection = "up";
                                }
                            }
                        }
                    }
                }
            } else {
                //Middle of board
                //Check to see if an opponent is in front of you
                //col is x-axis
                //row is y-axis
                //(0, 0) is top-lef corner
                if (this.direction == "left" || this.direction == "right") {
                    if (head.col == Snapple.col) {
                        if (Snapple.row >= head.row) {
                            this.nextDirection = "down";
                            console.log("A");
                        } else {
                            this.nextDirection = "up";
                            console.log("B");
                        }
                    }
                }
                if (this.direction == "up" || this.direction == "down") {
                    if (head.row == Snapple.row) {
                        if (Snapple.col >= head.col) {
                            this.nextDirection = "right";
                            console.log("C");
                        } else {
                            this.nextDirection = "left";
                            console.log("D");
                        }
                    }
                }
                if (this.direction == "up") {
                    for (var i = 0; i < trial; i++) {
                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row + paddingPlayer ||
                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row + paddingPlayer ||
                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row + paddingPlayer ||
                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row + paddingPlayer) {
                            //Going to colide if going up
                            rand = Math.floor(Math.random() * Math.floor(2));
                            if (rand == 1) {
                                this.nextDirection = "right";
                            } else {
                                this.nextDirection = "left";
                            }
                        }
                    }
                } else if (this.direction == "down") {
                    for (var i = 0; i < trial; i++) {
                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row - paddingPlayer ||
                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row - paddingPlayer ||
                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row - paddingPlayer ||
                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row - paddingPlayer) {
                            //Going to colide if going down
                            rand = Math.floor(Math.random() * Math.floor(2));
                            if (rand == 1) {
                                this.nextDirection = "right";
                            } else {
                                this.nextDirection = "left";
                            }
                        }
                    }
                } else if (this.direction == "right") {
                    for (var i = 0; i < trial; i++) {
                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col - paddingPlayer && head.row == SnakeSeg[i].row ||
                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col - paddingPlayer && head.row == SnakeSeg2[i].row ||
                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col - paddingPlayer && head.row == SnakeSeg3[i].row ||
                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col - paddingPlayer && head.row == SnakeSeg4[i].row) {
                            //Going to colide if going right
                            rand = Math.floor(Math.random() * Math.floor(2));
                            if (rand == 1) {
                                this.nextDirection = "up";
                            } else {
                                this.nextDirection = "down";
                            }
                        }
                    }
                } else if (this.direction == "left") {
                    for (var i = 0; i < trial; i++) {
                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col + paddingPlayer && head.row == SnakeSeg[i].row ||
                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col + paddingPlayer && head.row == SnakeSeg2[i].row ||
                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col + paddingPlayer && head.row == SnakeSeg3[i].row ||
                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col + paddingPlayer && head.row == SnakeSeg4[i].row) {
                            //Going to colide if going left
                            rand = Math.floor(Math.random() * Math.floor(2));
                            if (rand == 1) {
                                this.nextDirection = "up";
                            } else {
                                this.nextDirection = "down";
                            }
                        }
                    }
                }
                //Double-check, making sure you are not going to crash with your new move...
                if (this.nextDirection == "up") {
                    for (var i = 0; i < trial; i++) {
                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row + paddingPlayer ||
                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row + paddingPlayer ||
                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row + paddingPlayer ||
                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row + paddingPlayer) {
                            if (this.direction == "left" || this.direction == "right") {
                                this.nextDirection = "down";
                            }
                        }
                    }
                } else if (this.nextDirection == "down") {
                    for (var i = 0; i < trial; i++) {
                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col && head.row == SnakeSeg[i].row - paddingPlayer ||
                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col && head.row == SnakeSeg2[i].row - paddingPlayer ||
                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col && head.row == SnakeSeg3[i].row - paddingPlayer ||
                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col && head.row == SnakeSeg4[i].row - paddingPlayer) {
                            if (this.direction == "left" || this.direction == "right") {
                                this.nextDirection = "up";
                            }
                        }
                    }
                } else if (this.nextDirection == "right") {
                    for (var i = 0; i < trial; i++) {
                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col - paddingPlayer && head.row == SnakeSeg[i].row ||
                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col - paddingPlayer && head.row == SnakeSeg2[i].row ||
                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col - paddingPlayer && head.row == SnakeSeg3[i].row ||
                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col - paddingPlayer && head.row == SnakeSeg4[i].row) {
                            if (this.direction == "up" || this.direction == "down") {
                                this.nextDirection = "left";
                            }
                        }
                    }
                } else if (this.nextDirection == "left") {
                    for (var i = 0; i < trial; i++) {
                        if (SnakeSeg[i] != undefined && head.col == SnakeSeg[i].col + paddingPlayer && head.row == SnakeSeg[i].row ||
                            SnakeSeg2[i] != undefined && head.col == SnakeSeg2[i].col + paddingPlayer && head.row == SnakeSeg2[i].row ||
                            SnakeSeg3[i] != undefined && head.col == SnakeSeg3[i].col + paddingPlayer && head.row == SnakeSeg3[i].row ||
                            SnakeSeg4[i] != undefined && head.col == SnakeSeg4[i].col + paddingPlayer && head.row == SnakeSeg4[i].row) {
                            if (this.direction == "up" || this.direction == "down") {
                                this.nextDirection = "right";
                            }
                        }
                    }
                }
                //Continue in your direction!
                //this.nextDirection = this.direction;
            }
        };
        var Snapple;
        var Apple = function () {
            this.position = new Block(10, 10);
            Snapple = this.position;
        };
        Apple.prototype.draw = function () {
            this.position.drawCircle("LimeGreen");
        };
        Apple.prototype.move = function () {
            var randomCol = Math.floor(Math.random() * (widthInBlocks - 2)) - 1;
            var randomRow = Math.floor(Math.random() * (heightInBlocks - 2)) - 1;
            if (randomCol < 1) {
                randomCol = 1;
            }
            if (randomRow < 1) {
                randomRow = 1;
            }
            this.position = new Block(randomCol, randomRow);
            Snapple = this.position;
        };
        var snake = new Snake();
        var snake2 = new Snake2();
        var snake3 = new Snake3();
        var snake4 = new Snake4();
        var apple = new Apple();
        //New block: (x, y)
        //Orgin is 0, 0
        //Text baseline is 9y, starts at 8x. No more than 5 blocks tall(5y), and 4 blocks wide.
        var xSpacer = 15;
        var ySpacer = 10;
        var logo1 = [
            new Block(7 + xSpacer, 9 + ySpacer),
            new Block(8 + xSpacer, 9 + ySpacer),
            new Block(9 + xSpacer, 9 + ySpacer),
            new Block(9 + xSpacer, 8 + ySpacer),
            new Block(9 + xSpacer, 7 + ySpacer),
            new Block(8 + xSpacer, 7 + ySpacer),
            new Block(7 + xSpacer, 7 + ySpacer),
            new Block(7 + xSpacer, 6 + ySpacer),
            new Block(7 + xSpacer, 5 + ySpacer),
            new Block(8 + xSpacer, 5 + ySpacer),
            new Block(9 + xSpacer, 5 + ySpacer),
        ];
        var logo2 = [
            new Block(11 + xSpacer, 9 + ySpacer),
            new Block(11 + xSpacer, 8 + ySpacer),
            new Block(11 + xSpacer, 7 + ySpacer),
            new Block(11 + xSpacer, 6 + ySpacer),
            new Block(12 + xSpacer, 7 + ySpacer),
            new Block(13 + xSpacer, 7 + ySpacer),
            new Block(13 + xSpacer, 8 + ySpacer),
            new Block(13 + xSpacer, 9 + ySpacer),
        ];
        var logo3 = [
            new Block(15 + xSpacer, 9 + ySpacer),
            new Block(15 + xSpacer, 8 + ySpacer),
            new Block(15 + xSpacer, 7 + ySpacer),
            new Block(16 + xSpacer, 7 + ySpacer),
            new Block(17 + xSpacer, 7 + ySpacer),
            new Block(18 + xSpacer, 6 + ySpacer),
            new Block(17 + xSpacer, 6 + ySpacer),
            new Block(17 + xSpacer, 8 + ySpacer),
            new Block(17 + xSpacer, 9 + ySpacer),
            new Block(16 + xSpacer, 9 + ySpacer),
        ];
        var logo4 = [
            new Block(20 + xSpacer, 9 + ySpacer),
            new Block(20 + xSpacer, 8 + ySpacer),
            new Block(20 + xSpacer, 7 + ySpacer),
            new Block(20 + xSpacer, 6 + ySpacer),
            new Block(20 + xSpacer, 5 + ySpacer),
            new Block(21 + xSpacer, 8 + ySpacer),
            new Block(22 + xSpacer, 9 + ySpacer),
            new Block(22 + xSpacer, 7 + ySpacer),
        ];
        var logo5 = [
            new Block(24 + xSpacer, 9 + ySpacer),
            new Block(25 + xSpacer, 9 + ySpacer),
            new Block(26 + xSpacer, 9 + ySpacer),
            new Block(24 + xSpacer, 8 + ySpacer),
            new Block(24 + xSpacer, 7 + ySpacer),
            new Block(25 + xSpacer, 7 + ySpacer),
            new Block(26 + xSpacer, 7 + ySpacer),
            new Block(24 + xSpacer, 5 + ySpacer),
            new Block(25 + xSpacer, 5 + ySpacer),
            new Block(26 + xSpacer, 5 + ySpacer),
            new Block(26 + xSpacer, 6 + ySpacer),
            new Block(24 + xSpacer, 6 + ySpacer),
        ];
        var timerA = 4;
        var timerB = 0;
        var timerC = 0;
        var rewarded = false;
        //TimerC has nothing to do with timers A and B.
        function drawTime() {
            ctx.font = "60px Courtier";
            ctx.fillStyle = "Black";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText(timerA + ":", width / 2, height / 2 + 100);
            ctx.font = "30px Courtier";
            ctx.fillText(timerB, width / 2 + 50, height / 2 + 100 + 10);
            ctx.font = "30px Consolas";
            ctx.fillText("Snake Battle Royale", width / 2, height / 2 - 20);
            ctx.fillText("Welcome to", width / 2, height / 2 - 50);
            //ctx.fillText("Game Starts in:", width / 2, height / 2 + 50);
        }
        var intervalId = setInterval(function () {
            ctx.clearRect(0, 0, 1300, 800);
            drawScore();
            if (timerA < 0) {
                drawBorder();
                apple.draw();
                if (snake4live == true) {
                    snake4.move();
                }
                if (snake1live == true) {
                    snake.move();
                }
                if (snake2live == true) {
                    snake2.move();
                }
                if (snake3live == true) {
                    snake3.move();
                }
                drawBorder();
                snake.draw();
                snake2.draw();
                snake3.draw();
                snake4.draw();
                apple.draw();
                if (snake1live == true) {
                    snake.draw();
                }
                if (snake2live == true) {
                    snake2.draw();
                }
                if (snake3live == true) {
                    snake3.draw();
                }
                if (snake4live == true) {
                    snake4.draw();
                }
                apple.draw();
                drawBorder();
                if (rewarded == false) {
                    if (snake1live == true && snake2live == false && snake3live == false && snake4live == false) {
                        timerC = 3 * lvlspeed;
                        score = score + 2;
                        rewarded = true;
                    } else if (snake1live == false && snake2live == true && snake3live == false && snake4live == false) {
                        timerC = 3 * lvlspeed;
                        score2 = score2 + 2;
                        rewarded = true;
                    } else if (snake1live == false && snake2live == false && snake3live == true && snake4live == false) {
                        timerC = 3 * lvlspeed;
                        score3 = score3 + 2;
                        rewarded = true;
                    } else if (snake1live == false && snake2live == false && snake3live == false && snake4live == true) {
                        timerC = 3 * lvlspeed;
                        score4 = score4 + 2;
                        rewarded = true;
                    }
                } else if (timerC > 0) {
                    timerC = timerC - 1;
                    ctx.font = "20px Courtier";
                    ctx.textAlign = "left";
                    ctx.textBaseline = "top";
                    ctx.fillStyle = "LightSlateGrey";
                    ctx.fillText("Survival", 1200, 100);
                    ctx.fillText("Bonus", 1200, 120);
                }
                if (snake1live == false && snake2live == false && snake3live == false && snake4live == false) {
                    FullGameOver();

                    /* if (spacePressed == true) {
                         spacePressed = false;
                         snake1live = true;
                         snake2live = true;
                         snake3live = true;
                         snake4live = true;
                         timerA = 4;
                         timerB = 0;
                         width = canvas.width - 100;
                         height = canvas.height;
                         snake.segments = [
                             new Block(3, 5),
                             new Block(2, 5),
                             new Block(1, 5)
                         ];
                         snake2.segments = [
                             new Block(3, 11),
                             new Block(2, 11),
                             new Block(1, 11)
                         ];
                         snake3.segments = [
                             new Block(3, 17),
                             new Block(2, 17),
                             new Block(1, 17)
                         ];
                         snake4.segments = [
                             new Block(3, 23),
                             new Block(2, 23),
                             new Block(1, 23)
                         ];
                         apple.position = new Block(10, 10);
                         score = 0;
                         score2 = 0;
                         score3 = 0;
                         score4 = 0;
                     }
                     */
                }
            } else {
                //drawTime();
                timerB = timerB - lvlspeed / 10;
                if (timerB < 0) {
                    timerB = timerB + 60;
                    timerA = timerA - 1;
                }
                snake.draw();
                snake2.draw();
                snake3.draw();
                snake4.draw();
                if (snake.nextDirection != "right") {
                    snake.nextDirection = "right";
                    if (skin1 == false) {
                        skin1 = true;
                    } else {
                        skin1 = false;
                    }
                }
                if (snake2.nextDirection != "right") {
                    snake2.nextDirection = "right";
                    if (skin2 == false) {
                        skin2 = true;
                    } else {
                        skin2 = false;
                    }
                }
                if (snake3.nextDirection != "right") {
                    snake3.nextDirection = "right";
                    if (skin3 == false) {
                        skin3 = true;
                    } else {
                        skin3 = false;
                    }
                }
                if (skin1 == true && skin2 == true && skin3 == true) {
                    let rand = Math.floor(Math.random() * Math.floor(3));
                    if (rand == 1) {
                        //skin4 = true;
                    }
                } else {
                    skin4 = false;
                }
                for (var i = 0; i < logo1.length; i++) {
                    logo1[i].drawSquare("CornflowerBlue");
                }
                for (var i = 0; i < logo2.length; i++) {
                    logo2[i].drawSquare("Crimson");
                }
                for (var i = 0; i < logo3.length; i++) {
                    logo3[i].drawSquare("SeaGreen");
                }
                for (var i = 0; i < logo4.length; i++) {
                    logo4[i].drawSquare("Orange");
                }
                for (var i = 0; i < logo5.length; i++) {
                    logo5[i].drawSquare("LightSlateGrey");
                }
                ctx.fillStyle = "Black";
                ctx.fillText("Press any arrow key besides right to activate your skin.", 420, 450);
                apple.draw();
                drawBorder();
            }
        }, lvlspeed);

    </script>
</body>

</html>
